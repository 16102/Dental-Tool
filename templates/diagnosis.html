<!doctype html>
<html lang="en">

<head>
  <title>Orthodontic Prediction</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
  <div class="container">
    <img src="https://sp-ao.shortpixel.ai/client/to_auto,q_glossy,ret_img,w_224,h_70/https://www.sagarhospitals.in/wp-content/uploads/2019/07/sagar-hospital-best-multispeciality-hospital-in-bangalore.png" alt="Image" width="15%">
    <h1>Orthodontic Prediction</h1>
    <a href="{{ url_for('index') }}" class="home-button">Home</a>
    
    <form id="predictionForm" action="{{ url_for('predict') }}" method="post">
      <div class="form-group">
        <div>
          <h2>Orthodontal Diagnosis</h2>
          <p>{{ prediction_text }}</p>
        </div>
        <label>Age</label>
        <input type="number" step="0.01" name="input_0" required>
      </div>
      <div class="form-group">
        <label for="Sex">Sex:</label>
        <select name="input_1" id="Sex" required>
          <option>Male</option>
          <option>Female</option>
        </select>
      </div>

      <div class="form-group">
        <label for="Clinical">Clinical FMPA:</label>
        <select name="input_2" id="Clinical" required>
          <option>Average</option>
          <option>High</option>
          <option>Low</option>
        </select>
      </div>
      <div class="form-group">
        <label for="NasoLabialSulcus">Naso-Labial Sulcus:</label>
        <select name="input_3" id="NasoLabialSulcus" required>
          <option>Acute</option>
          <option>Average</option>
          <option>Deep</option>
          <option>Low</option>
          <option>Normal</option>
          <option>Obtuse</option>
        </select>
      </div>
      <div class="form-group">
        <label for="Habits">Habits:</label>
        <select name="input_4" id="Habits" required>
          <option>NRH</option>
          <option>Bruxism</option>
          <option>Lip biting</option>
          <option>Mouth breathing</option>
          <option>mr</option>
          <option>Thumb Sucking</option>
          <option>Tounge thrusting</option>
        </select>
      </div>
      <div class="form-group">
        <label for="Incisors">Incisors:</label>
        <select name="input_5" id="Incisors" required>
          <option>Class 1</option>
          <option>Class 2</option>
          <option>Class 3</option>
          <option>Open bite</option>
          <option>can't be related</option>
        </select>
      </div>
      <div class="form-group">
        <label for="Canine">Canine:</label>
        <select name="input_6" id="Canine" required>
          <option>Class 1</option>
          <option>Class 1 bilaterally</option>
          <option>Class 2</option>
          <option>Class 2 bilaterally</option>
          <option>Class 3</option>
          <option>Class 3 bilaterally</option>
          <option>can't be related</option>
        </select>
      </div>
      <div class="form-group">
        <label for="Molars">Molars:</label>
        <select name="input_7" id="Molars" required>
          <option>Class 1</option>
          <option>Class 1 bilaterally</option>
          <option>Class 2</option>
          <option>Class 2 bilaterally</option>
          <option>Class 3</option>
          <option>Class 3 bilaterally</option>
          <option>can't be related</option>
        </select>
      </div>
      <div class="form-group">
        <label>Overbite</label>
        <input type="number" step="0.01" name="input_8" required>
      </div>
      <div class="form-group">
        <label>Overjet</label>
        <input type="number" step="0.01" name="input_9" required>
      </div>
      <div class="form-group">
        <label>Mandibular Plane Angle</label>
        <input type="number" step="0.01" name="input_10" required>
      </div>
      <div class="form-group">
        <label>Lower Incisor to Mandibular Plane</label>
        <input type="number" step="0.01" name="input_11" required>
      </div>
      <div class="form-group">
        <label>Basal Plane Angle</label>
        <input type="number" step="0.01" name="input_12" required>
      </div>
      <div class="form-group">
        <label>Y Axis</label>
        <input type="number" step="0.01" name="input_13" required>
      </div>
      <div class="form-group">
        <label>U1 To Sn</label>
        <input type="number" step="0.01" name="input_14" required>
      </div>
      <div class="form-group">
        <label>SNA</label>
        <input type="number" step="0.01" name="input_15" required>
      </div>
      <div class="form-group">
        <label>SNB</label>
        <input type="number" step="0.01" name="input_16" required>
      </div>
      <div class="form-group">
        <label>ANB</label>
        <input type="number" step="0.01" name="input_17" required>
      </div>
      <div class="form-group">
        <label>UI TO NA (mm)</label>
        <input type="number" step="0.01" name="input_18" required>
      </div>
      <div class="form-group">
        <label>UI TO NA (angle)</label>
        <input type="number" step="0.01" name="input_19" required>
      </div>
      <div class="form-group">
        <label>LI TO NB (mm)</label>
        <input type="number" step="0.01" name="input_20" required>
      </div>
      <div class="form-group">
        <label>Max:mand</label>
        <input type="text" step="0.01" name="input_22" id="max_mand_input" required>
      </div>
      <div class="form-group">
        <label>LI TO NB (angle)</label>
        <input type="number" step="0.01" name="input_21" required>
      </div>
      

      <!-- Other form inputs for diagnosis -->
      <!-- Diagnosis prediction results will be shown here -->
      

      <button type="submit">Predict</button>
      <button type="button" onclick="clearDiagnosisForm()">Clear Diagnosis Form</button>
    </form>

  </div>
  <script type="text/javascript">
    // Your JavaScript for diagnosis form here
    function clearDiagnosisForm() {
      document.getElementById('predictionForm').reset();
    }
    //script for Max:mand ratio conversion
    //diagnosis
    document.addEventListener('DOMContentLoaded', function () {
      const maxMandInput = document.getElementById('max_mand_input');

      maxMandInput.addEventListener('blur', function () {
        const ratio = this.value.trim(); // Trim whitespace
        if (ratio.includes(':')) {
          const parts = ratio.split(':');
          if (parts.length === 2) {
            const numerator = parseFloat(parts[0]);
            const denominator = parseFloat(parts[1]);
            if (!isNaN(numerator) && !isNaN(denominator) && denominator !== 0) {
              const numericalValue = numerator / denominator;
              this.value = numericalValue.toFixed(2); // Update the input field with the numerical value
            }
          }
        }
      });
    });
    
  </script>
</body>

</html>
