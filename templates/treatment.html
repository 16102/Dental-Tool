<!doctype html>
<html lang="en">

<head>
  <title>Orthodontic Treatment</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
  <div class="container">
    <h1>Orthodontic Treatment</h1>
    <a href="{{ url_for('index') }}" class="home-button">Home</a>
    <form id="treatmentForm" action="{{ url_for('submit_treatment') }}" method="post">
      <div>
        <h2>Orthodontal Treatment</h2>
        <h3>{{ treatment_text }}<h3>
      </div>
      <div class="form-group">
        <label>Age</label>
        <input type="number" step="0.01" name="input_0_treatment" required>
      </div>
      <div class="form-group">
        <label for="Sex_treatment">Sex:</label>
        <select name="input_1_treatment" id="Sex_treatment" required>
          <option>Male</option>
          <option>Female</option>
        </select>
      </div>
      <div class="form-group">
        <label for="Clinical_treatment">Clinical FMPA:</label>
        <select name="input_2_treatment" id="Clinical_treatment" required>
          <option>Average</option>
          <option>High</option>
          <option>Low</option>
        </select>
      </div>
      <div class="form-group">
        <label for="NasoLabialSulcus_treatment">Naso-Labial Sulcus:</label>
        <select name="input_3_treatment" id="NasoLabialSulcus_treatment" required>
          <option>Acute</option>
          <option>Average</option>
          <option>Deep</option>
          <option>Low</option>
          <option>Normal</option>
          <option>Obtuse</option>
        </select>
      </div>
      <div class="form-group">
        <label for="Habits_treatment">Habits:</label>
        <select name="input_4_treatment" id="Habits_treatment" required>
          <option>NRH</option>
          <option>Bruxism</option>
          <option>Lip biting</option>
          <option>Mouth breathing</option>
          <option>mr</option>
          <option>Thumb Sucking</option>
          <option>Tounge thrusting</option>
        </select>
      </div>
      <div class="form-group">
        <label for="Incisors_treatment">Incisors:</label>
        <select name="input_5_treatment" id="Incisors_treatment" required>
          <option>Class 1</option>
          <option>Class 2</option>
          <option>Class 3</option>
          <option>Open bite</option>
          <option>can't be related</option>
        </select>
      </div>
      <div class="form-group">
        <label for="Canine_treatment">Canine:</label>
        <select name="input_6_treatment" id="Canine_treatment" required>
          <option>Class 1</option>
          <option>Class 1 bilaterally</option>
          <option>Class 2</option>
          <option>Class 2 bilaterally</option>
          <option>Class 3</option>
          <option>Class 3 bilaterally</option>
          <option>can't be related</option>
        </select>
      </div>
      <div class="form-group">
        <label for="Molars_treatment">Molars:</label>
        <select name="input_7_treatment" id="Molars_treatment" required>
          <option>Class 1</option>
          <option>Class 1 bilaterally</option>
          <option>Class 2</option>
          <option>Class 2 bilaterally</option>
          <option>Class 3</option>
          <option>Class 3 bilaterally</option>
          <option>can't be related</option>
        </select>
      </div>
      <div class="form-group">
        <label>Overbite</label>
        <input type="number" step="0.01" name="input_8_treatment" required>
      </div>
      <div class="form-group">
        <label>Overjet</label>
        <input type="number" step="0.01" name="input_9_treatment" required>
      </div>
      <div class="form-group">
        <label>Mandibular Plane Angle</label>
        <input type="number" step="0.01" name="input_10_treatment" required>
      </div>
      <div class="form-group">
        <label>Lower Incisor to Mandibular Plane</label>
        <input type="number" step="0.01" name="input_11_treatment" required>
      </div>
      <div class="form-group">
        <label>Basal Plane Angle</label>
        <input type="number" step="0.01" name="input_12_treatment" required>
      </div>
      <div class="form-group">
        <label>Y Axis</label>
        <input type="number" step="0.01" name="input_13_treatment" required>
      </div>
      <div class="form-group">
        <label>U1 To Sn</label>
        <input type="number" step="0.01" name="input_14_treatment" required>
      </div>
      <div class="form-group">
        <label>SNA</label>
        <input type="number" step="0.01" name="input_15_treatment" required>
      </div>
      <div class="form-group">
        <label>SNB</label>
        <input type="number" step="0.01" name="input_16_treatment" required>
      </div>
      <div class="form-group">
        <label>ANB</label>
        <input type="number" step="0.01" name="input_17_treatment" required>
      </div>
      <div class="form-group">
        <label>UI TO NA (mm)</label>
        <input type="number" step="0.01" name="input_18_treatment" required>
      </div>
      <div class="form-group">
        <label>UI TO NA (angle)</label>
        <input type="number" step="0.01" name="input_19_treatment" required>
      </div>
      <div class="form-group">
        <label>LI TO NB (mm)</label>
        <input type="number" step="0.01" name="input_20_treatment" required>
      </div>
      <div class="form-group">
        <label>LI TO NB (angle)</label>
        <input type="number" step="0.01" name="input_21_treatment" required>
      </div>
      <div class="form-group">
        <label>Max:mand</label>
        <input type="text" step="0.01" name="input_22_treatment" id="max_mand_input_treatment" required>
      </div>
      <div class="form-group">
        <label>Diagnosis:</label>
        
        <select name="input_23_treatment" id="diagnosis_treatment" required>
          <option>Angles Class 1 malocclusion</option>
          <option>Angles Class 2 malocclusion</option>
          <option>Angles Class 3 malocclusion</option>
        </select>
      </div>




      <!-- Other form inputs for treatment -->
      <!-- Treatment prediction results will be shown here -->
      
      

      <button type="submit">Submit Treatment</button>
      <button type="button" onclick="clearTreatmentForm()">Clear Diagnosis Form</button>
    </form>
  </div>
  <script type="text/javascript">
    // Your JavaScript for treatment form here
    function clearTreatmentForm() {
      document.getElementById('treatmentForm').reset();
    }
    //script for Max:mand ratio conversion
    
    //treatment
    document.addEventListener('DOMContentLoaded', function () {
      const maxMandInput = document.getElementById('max_mand_input_treatment');

      maxMandInput.addEventListener('blur', function () {
        const ratio = this.value.trim(); // Trim whitespace
        if (ratio.includes(':')) {
          const parts = ratio.split(':');
          if (parts.length === 2) {
            const numerator = parseFloat(parts[0]);
            const denominator = parseFloat(parts[1]);
            if (!isNaN(numerator) && !isNaN(denominator) && denominator !== 0) {
              const numericalValue = numerator / denominator;
              this.value = numericalValue.toFixed(2); // Update the input field with the numerical value
            }
          }
        }
      });
    });
  </script>
</body>

</html>
